$(document).ready(function(){	run();});//time可以通过用户输入的值来动态改变，当用户完成输入后用过clearInterval(interval)清理 //之前的调度器，然后再调用run方法，这样修改后的调度器就起作用了。 var time = 1500;var interval; //调度器对象。 function run(){   interval = setInterval(fun,time); }function fun(){	$.ajax({        type: "get",//使用get方法访问后台        dataType: "json",//返回json格式的数据        url: "AjaxTest.php",//要访问的后台地址		contentType: "application/json; charset=utf-8",		cache: false,        data: jsonData(),//要发送的数据		//start : function(){},        //complete :function(){$("#load").hide();},//AJAX请求完成时隐藏loading提示        success: function(msg){//msg为返回的数据，在这里做数据绑定            var ID = parseInt(msg.ID);			var Name = String(msg.Name);						document.getElementById("ID_ID").innerHTML=ID;			document.getElementById("ID_Name").innerHTML=Name;									document.getElementById("ID_Status").innerHTML="<img src='./Image/244.gif'>";									var Array = msg.Array;			$("#ID_Tbl_Summary tr:not(:first)").remove();			$.each(Array, function(i,n){				var t;				t = "<tr>";				t += "<td id='ID_"+i+"_0'>" + n.Feature + "</td>";				t += "<td id='ID_"+i+"_1'>" + n.Author + "</td>";				t += "<td id='ID_"+i+"_2'>" + n.TotalNum + "</td>";				t += "<td id='ID_"+i+"_3'>" + n.PASSNum + "</td>";				t += "<td id='ID_"+i+"_4'>" + n.FailNum + "</td>";				var TNum=parseInt(n.TotalNum);				var PNum=parseInt(n.PASSNum);				var FNum=parseInt(n.FailNum);				var PRate = (PNum/(PNum+FNum))*100+"%";				if(PNum+FNum==0){					PRate = "0.00%";				}				t += "<td id='ID_"+i+"_5'>" + PRate + "</td>";				if(TNum!=PNum+FNum){					t += "<td id='ID_"+i+"_6'>" + "<img src='./Image/295.gif'>" + "</td>";				}				if(TNum==PNum+FNum){					t += "<td id='ID_"+i+"_6'>" + "Done" + "</td>";				}				t += "</tr>";				$("#ID_TBody").append(t);            });			        }	});}$.extend({  getUrlVars: function(){  var vars = [], hash;  var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');  for(var i = 0; i < hashes.length; i++)  {  hash = hashes[i].split('=');  vars.push(hash[0]);  vars[hash[0]] = hash[1];  }  return vars;  },  getUrlVar: function(name){  return $.getUrlVars()[name];  }  }); function jsonData(){var ID=request("ID");var Name=request("Name");var jsonStr="({"; jsonStr+="\"ID\":";jsonStr+="\"";jsonStr+=ID;jsonStr+="\""; jsonStr+=","; jsonStr+="\"Name\":";jsonStr+="\"";jsonStr+=NamejsonStr+="\""; jsonStr+="})"; return eval(jsonStr);}function request(paras)    {         var url = location.href;        var paraString = url.substring(url.indexOf("?")+1,url.length).split("&");         var paraObj = {}         for (i=0; j=paraString[i]; i++){         paraObj[j.substring(0,j.indexOf("=")).toLowerCase()] = j.substring(j.indexOf("=")+1,j.length);         }         var returnValue = paraObj[paras.toLowerCase()];         if(typeof(returnValue)=="undefined"){         return "";         }else{         return returnValue;         }     } 