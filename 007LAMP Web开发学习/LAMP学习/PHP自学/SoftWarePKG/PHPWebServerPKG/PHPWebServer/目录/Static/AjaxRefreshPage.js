$(document).ready(function(){	run();});//time可以通过用户输入的值来动态改变，当用户完成输入后用过clearInterval(interval)清理 //之前的调度器，然后再调用run方法，这样修改后的调度器就起作用了。 var time = 1500;var interval; //调度器对象。 function run(){   interval = setInterval(fun,time); }function fun(){	$.ajax({        type: "get",//使用get方法访问后台        dataType: "json",//返回json格式的数据        url: "GetDatabseInfo.php",//要访问的后台地址		contentType: "application/json; charset=utf-8",		cache: false,        data: jsonData(),//要发送的数据		//start : function(){},        //complete :function(){$("#load").hide();},//AJAX请求完成时隐藏loading提示        success: function(msg){//msg为返回的数据，在这里做数据绑定            var TotalNum = parseInt(msg.TotalNum);			var ResumeNum = parseInt(msg.ResumeNum);			var DoneNum = TotalNum-ResumeNum;			var PASSNum = parseInt(msg.PASSNum);			var FailNum = parseInt(msg.FailNum);			var PASSRate = (PASSNum/(PASSNum+FailNum))*100+"%";			if(PASSNum+FailNum==0){				PASSRate="0.00%";			}						var DataArray = msg.FeatureArray;						document.getElementById("ID_TotalNum").innerHTML=TotalNum;			document.getElementById("ID_DoneNum").innerHTML=DoneNum;			document.getElementById("ID_ResumeNum").innerHTML=ResumeNum;			document.getElementById("ID_PASSNum").innerHTML=PASSNum;			document.getElementById("ID_FailNum").innerHTML=FailNum;			document.getElementById("ID_PASSRate").innerHTML=PASSRate;						if(ResumeNum != 0){				document.getElementById("ID_TaskStatus").innerHTML="<img src='./Image/244.gif'>";			}			else{				document.getElementById("ID_TaskStatus").innerHTML="Done";			}						$("#ID_Tbl_Author_Summary tr:not(:first)").remove();			$.each(DataArray, function(i,n){				var t;				t = "<tr>";				t += "<td id='ID_"+i+"_0'>" + n.Feature + "</td>";				t += "<td id='ID_"+i+"_1'>" + n.Author + "</td>";				t += "<td id='ID_"+i+"_2'>" + n.TotalNum + "</td>";				t += "<td id='ID_"+i+"_3'>" + n.PASSNum + "</td>";				t += "<td id='ID_"+i+"_4'>" + n.FailNum + "</td>";				var TNum=parseInt(n.TotalNum);				var PNum=parseInt(n.PASSNum);				var FNum=parseInt(n.FailNum);				var PRate = (PNum/(PNum+FNum))*100+"%";				if(PNum+FNum==0){					PRate = "0.00%";				}				t += "<td id='ID_"+i+"_5'>" + PRate + "</td>";				if(TNum!=PNum+FNum){					t += "<td id='ID_"+i+"_6'>" + "<img src='./Image/295.gif'>" + "</td>";				}				if(TNum==PNum+FNum){					t += "<td id='ID_"+i+"_6'>" + "Done" + "</td>";				}				t += "</tr>";				$("#ID_TBody").append(t);            });			        }	});}$.extend({  getUrlVars: function(){  var vars = [], hash;  var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');  for(var i = 0; i < hashes.length; i++)  {  hash = hashes[i].split('=');  vars.push(hash[0]);  vars[hash[0]] = hash[1];  }  return vars;  },  getUrlVar: function(name){  return $.getUrlVars()[name];  }  }); function jsonData(){var TaskName=request("TaskName");var ExePCName=request("ExePCName");var jsonStr="({"; jsonStr+="\"TaskName\":";jsonStr+="\"";jsonStr+=TaskName;jsonStr+="\""; jsonStr+=","; jsonStr+="\"ExePCName\":";jsonStr+="\"";jsonStr+=ExePCNamejsonStr+="\""; jsonStr+="})"; return eval(jsonStr);}function request(paras)    {         var url = location.href;        var paraString = url.substring(url.indexOf("?")+1,url.length).split("&");         var paraObj = {}         for (i=0; j=paraString[i]; i++){         paraObj[j.substring(0,j.indexOf("=")).toLowerCase()] = j.substring(j.indexOf("=")+1,j.length);         }         var returnValue = paraObj[paras.toLowerCase()];         if(typeof(returnValue)=="undefined"){         return "";         }else{         return returnValue;         }     } 